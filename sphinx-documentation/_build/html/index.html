<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Website for Shaula &mdash; Shaula 0 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Shaula 0 documentation" href="#" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="website-for-shaula">
<h1>Website for Shaula<a class="headerlink" href="#website-for-shaula" title="Permalink to this headline">¶</a></h1>
<p>Contents:</p>
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>This website aims to describe Shaula. It will enable voyages to be logged, documents to be uploaded and manuals to be uploaded. The log, documents and manuals will be editable. Editing the site will be restricted to password protected users.</p>
<p>The controllers are written directly into the routes definitions in the routes directory.</p>
<p>Create and update operations should use the same pug files eg. views/voyages/create-update.pug and also the same routes and controllers eg router.post(&#8216;/create-update&#8217;, HANDLER) in routes/voyages.js. The form action attribut in the pug file should be made to do this.</p>
</div>
<div class="section" id="navigation">
<h2>Navigation<a class="headerlink" href="#navigation" title="Permalink to this headline">¶</a></h2>
<p>Home</p>
<p>Login</p>
<p>Voyage Log</p>
<p>Manuals</p>
<p>Documents (logged in only)</p>
</div>
<div class="section" id="views">
<h2>Views<a class="headerlink" href="#views" title="Permalink to this headline">¶</a></h2>
<p>All views have website title, photo of Shaula and navigation</p>
<div class="section" id="home">
<h3>1 Home<a class="headerlink" href="#home" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>/</p>
<p>100 word intro, additional photo(s) of Shaula.</p>
</div></blockquote>
</div>
<div class="section" id="login-form-pop-up">
<h3>2 Login (form (pop up?))<a class="headerlink" href="#login-form-pop-up" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>/login</p>
<p>Registration will be hardcoded.</p>
<p>Links (all users): Reset password.</p>
<p>User input: email, password</p>
</div></blockquote>
</div>
<div class="section" id="list-of-log-entries">
<h3>3 List of Log Entries<a class="headerlink" href="#list-of-log-entries" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>/voyages</p>
<p>20 word description of voyage logs</p>
<p>List of log entries in Desc order of departure time</p>
<p>Links (all users): Log Entry (for each entry in the list)</p>
<p>Links (logged in): Add Log Entry (once at top), Delete (for each list item. Return to list)</p>
<p>DB input: n[id, depart_from, arrive_at, depart_time]</p>
</div></blockquote>
</div>
<div class="section" id="log-entry">
<h3>4 Log Entry<a class="headerlink" href="#log-entry" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>/voyages/date_time_departure</p>
<p>Links (all users): return to List of Log Entries, next, previous (tricky to implement as ids may not be consequtive)</p>
<p>Links (logged in): Delete (for every photo with description), Edit (once at top. To Add Log Entry with values)</p>
<p>DB input:  id, depart_from, arrive_at, depart_time, description, n[file_n, photo_description_n]</p>
</div></blockquote>
</div>
<div class="section" id="add-log-entry-form">
<h3>5 Add Log Entry (form)<a class="headerlink" href="#add-log-entry-form" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>/voyages/create</p>
<p>DB input: (for edit):  id, depart_from, arrive_at, depart_time, description</p>
<p>User input: depart_from, arrive_at, depart_time, description, n[photo_file_UPLOAD, description]</p>
</div></blockquote>
</div>
<div class="section" id="list-of-manuals">
<h3>6 List of Manuals<a class="headerlink" href="#list-of-manuals" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>/manuals</p>
<p>Links (all users): Manual (for each list item)</p>
<p>Links (logged in): Add Manual (once at top), Delete (for each list item. Return to list.)</p>
<p>DB input:  id, title</p>
</div></blockquote>
</div>
<div class="section" id="manual">
<h3>7 Manual<a class="headerlink" href="#manual" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>/manuals/name</p>
<p>Links (all users): return to List of Manuals</p>
<p>Links (logged in): Edit (once at top. To Add Manual with values)</p>
<p>DB input: id, title, description, file</p>
</div></blockquote>
</div>
<div class="section" id="add-manual-form">
<h3>8 Add Manual (form)<a class="headerlink" href="#add-manual-form" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>/manuals/create</p>
<p>Dynamic (for edit): id, title, description</p>
<p>User input: title, description, file_UPLOAD</p>
</div></blockquote>
</div>
<div class="section" id="list-of-documents-logged-in-only">
<h3>9 List of Documents (logged in only)<a class="headerlink" href="#list-of-documents-logged-in-only" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>/documents</p>
<p>Links (logged in): Document (for each list item), Add Document (once at top), Delete (for each list item)</p>
<p>DB input: id, title</p>
</div></blockquote>
</div>
<div class="section" id="document">
<h3>10 Document<a class="headerlink" href="#document" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>/documents/name</p>
<p>Links (logged in): return to List of Documents, edit (once at top. To Add Document with values)</p>
<p>DB input: id, title, description, file</p>
</div></blockquote>
</div>
<div class="section" id="add-document-form">
<h3>11 Add Document (form)<a class="headerlink" href="#add-document-form" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>/documents/create</p>
<p>DB input: (for edit): id, title, description</p>
<p>User input: title, description, file_UPLOAD</p>
</div></blockquote>
</div>
</div>
<div class="section" id="sqlite-database">
<h2>SQLite Database<a class="headerlink" href="#sqlite-database" title="Permalink to this headline">¶</a></h2>
<p>All fields should be Not Null (use defaults).</p>
<div class="section" id="voyagelogs-table">
<h3>voyageLogs table<a class="headerlink" href="#voyagelogs-table" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>id int, PK etc</p>
<p>depart_from text, required</p>
<p>arrive_at text, required</p>
<p>depart_time ???, required</p>
<p>description text, default: &#8220;&#8221;</p>
</div></blockquote>
</div>
<div class="section" id="photos-table">
<h3>photos table<a class="headerlink" href="#photos-table" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>id int, PK etc</p>
<p>file_name text, required</p>
</div></blockquote>
</div>
<div class="section" id="voyagelogs-photos-table">
<h3>voyageLogs_photos table<a class="headerlink" href="#voyagelogs-photos-table" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>voyageLogs_id int, FK, required</p>
<p>photos_id int, FK, required</p>
<p>description text, default: &#8220;&#8221;</p>
</div></blockquote>
</div>
<div class="section" id="manuals-table">
<h3>manuals table<a class="headerlink" href="#manuals-table" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>id int, PK etc</p>
<p>title text, required</p>
<p>description text, default: &#8220;&#8221;</p>
<p>file_name text, default: &#8220;&#8221;</p>
</div></blockquote>
</div>
<div class="section" id="documents-table">
<h3>documents table<a class="headerlink" href="#documents-table" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>id int, PK etc</p>
<p>title text, required</p>
<p>description text, default: &#8220;&#8221;</p>
<p>file_name text, default: &#8220;&#8221;</p>
</div></blockquote>
</div>
</div>
<div class="section" id="routes-controllers-views">
<h2>Routes, Controllers, Views<a class="headerlink" href="#routes-controllers-views" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>/<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="section" id="home-page">
<h4>Home Page<a class="headerlink" href="#home-page" title="Permalink to this headline">¶</a></h4>
<p><cite>views/index.pug</cite></p>
<p>Shows home page with approx 100 word description of Shaula and the web site. Could have additional photos (all pages will have a photo of Shaula as a header)</p>
<p>Has a link to login (all users) Dialogue box will appear using javascript so email and password can be entered. On submit redirect to home page with success or failure message?#~!!&amp;^</p>
</div>
<div class="section" id="table">
<h4>Table<a class="headerlink" href="#table" title="Permalink to this headline">¶</a></h4>
<p>route prefix is <cite>/</cite></p>
<p>route is in <cite>routes/index.js</cite></p>
<p>controller is in the route definition</p>
<p>view is <cite>views/index.pug</cite></p>
<table border="1" class="docutils">
<colgroup>
<col width="37%" />
<col width="21%" />
<col width="42%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">/</th>
<th class="head">&nbsp;</th>
<th class="head">/views/</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET  /</td>
<td>in route</td>
<td>/index.pug</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="voyages">
<h3>/voyages<a class="headerlink" href="#voyages" title="Permalink to this headline">¶</a></h3>
<div class="section" id="list-of-voyages">
<h4>List of voyages<a class="headerlink" href="#list-of-voyages" title="Permalink to this headline">¶</a></h4>
<p><cite>views/voyages/list.pug</cite></p>
<p>Shows list of all voyages in descending order of depart_time (unique in database).</p>
<p>Each voyage in the list links to that voyage detail page (all users)</p>
<p>Each voyage in the list has a link to delete and (logged in users)</p>
<p>data: n[depart_from, arrive_at, depart_time]</p>
</div>
<div class="section" id="voyage-detail-page">
<h4>Voyage Detail Page<a class="headerlink" href="#voyage-detail-page" title="Permalink to this headline">¶</a></h4>
<p><cite>views/voyages/detail.pug</cite></p>
<p>Shows detail for a voyage.</p>
<p>Has a edit photos icon. On clicking all photos + description have a delete link (logged in users)</p>
<p>Has a edit icon. On clicking presents create-update.pug page with values in input fields (logged in users)</p>
<p>data: depart_from, arrive_at, depart_time, description, n[photo_file_n, photo_description_n]</p>
</div>
<div class="section" id="create-and-update-voyage">
<h4>Create and Update Voyage<a class="headerlink" href="#create-and-update-voyage" title="Permalink to this headline">¶</a></h4>
<p><cite>views/voyages/create-update.pug</cite></p>
<p>Shows form for creating a voyage detail page.</p>
<p>fields for user entry or data from db:</p>
<p>depart_from, arrive_at, depart_time, description, n[photo_file_n, photo_description_n]</p>
</div>
<div class="section" id="id2">
<h4>Table<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<p>routes prefix is <cite>voyages/</cite></p>
<p>routes are in <cite>routes/voyages.js</cite></p>
<p>controller prefix (object) is <cite>voyages.</cite></p>
<p>controllers are in <cite>controllers/voyages.js</cite></p>
<p><cite>in route</cite> means the controller is defined in <cite>routes/voyages</cite></p>
<p>views are in <cite>views/voyages/</cite></p>
<table border="1" class="docutils">
<colgroup>
<col width="37%" />
<col width="21%" />
<col width="42%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">/voyages</th>
<th class="head">voyages.</th>
<th class="head">/views/voyages</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET  /create</td>
<td>in route</td>
<td>/create-update.pug</td>
</tr>
<tr class="row-odd"><td>POST /create</td>
<td>.create-update</td>
<td>REDIR: /voyages/:depart_time</td>
</tr>
<tr class="row-even"><td>GET  /:depart_time/delete</td>
<td>in route</td>
<td>REDIR: /voyages</td>
</tr>
<tr class="row-odd"><td>GET  /:depart_time/update</td>
<td>in route</td>
<td>/create-update.pug</td>
</tr>
<tr class="row-even"><td>POST /:depart_time/update</td>
<td>.create-update</td>
<td>REDIR: /voyages/:depart_time</td>
</tr>
<tr class="row-odd"><td>GET  /</td>
<td>in route</td>
<td>/list.pug</td>
</tr>
<tr class="row-even"><td>GET  /:depart_time</td>
<td>in route</td>
<td>/detail.pug</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="to-do">
<h2>To Do<a class="headerlink" href="#to-do" title="Permalink to this headline">¶</a></h2>
<p>Complete sections on <cite>manuals</cite> and <cite>documents</cite> after implementing the <cite>voyages</cite> section</p>
<div class="section" id="manuals">
<h3>/manuals<a class="headerlink" href="#manuals" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id3">
<h4>List of Manuals<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<p><cite>views/manuals/list.pug</cite></p>
<p>Shows list of manuals in alphabetical order.</p>
<p>Each item in list links to detail page for manual&#8217;</p>
</div>
</div>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span>Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span>Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span>Search Page</span></a></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Website for Shaula</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#navigation">Navigation</a></li>
<li><a class="reference internal" href="#views">Views</a><ul>
<li><a class="reference internal" href="#home">1 Home</a></li>
<li><a class="reference internal" href="#login-form-pop-up">2 Login (form (pop up?))</a></li>
<li><a class="reference internal" href="#list-of-log-entries">3 List of Log Entries</a></li>
<li><a class="reference internal" href="#log-entry">4 Log Entry</a></li>
<li><a class="reference internal" href="#add-log-entry-form">5 Add Log Entry (form)</a></li>
<li><a class="reference internal" href="#list-of-manuals">6 List of Manuals</a></li>
<li><a class="reference internal" href="#manual">7 Manual</a></li>
<li><a class="reference internal" href="#add-manual-form">8 Add Manual (form)</a></li>
<li><a class="reference internal" href="#list-of-documents-logged-in-only">9 List of Documents (logged in only)</a></li>
<li><a class="reference internal" href="#document">10 Document</a></li>
<li><a class="reference internal" href="#add-document-form">11 Add Document (form)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlite-database">SQLite Database</a><ul>
<li><a class="reference internal" href="#voyagelogs-table">voyageLogs table</a></li>
<li><a class="reference internal" href="#photos-table">photos table</a></li>
<li><a class="reference internal" href="#voyagelogs-photos-table">voyageLogs_photos table</a></li>
<li><a class="reference internal" href="#manuals-table">manuals table</a></li>
<li><a class="reference internal" href="#documents-table">documents table</a></li>
</ul>
</li>
<li><a class="reference internal" href="#routes-controllers-views">Routes, Controllers, Views</a><ul>
<li><a class="reference internal" href="#id1">/</a><ul>
<li><a class="reference internal" href="#home-page">Home Page</a></li>
<li><a class="reference internal" href="#table">Table</a></li>
</ul>
</li>
<li><a class="reference internal" href="#voyages">/voyages</a><ul>
<li><a class="reference internal" href="#list-of-voyages">List of voyages</a></li>
<li><a class="reference internal" href="#voyage-detail-page">Voyage Detail Page</a></li>
<li><a class="reference internal" href="#create-and-update-voyage">Create and Update Voyage</a></li>
<li><a class="reference internal" href="#id2">Table</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#to-do">To Do</a><ul>
<li><a class="reference internal" href="#manuals">/manuals</a><ul>
<li><a class="reference internal" href="#id3">List of Manuals</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Steve Greig.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
      |
      <a href="_sources/index.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>